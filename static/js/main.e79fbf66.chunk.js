(this["webpackJsonpgoogledocapi-frontend"]=this["webpackJsonpgoogledocapi-frontend"]||[]).push([[0],{141:function(e,t,c){},142:function(e,t,c){},145:function(e,t,c){},146:function(e,t,c){},151:function(e,t,c){"use strict";c.r(t);var n=c(4),o=c(0),s=c(9),i=c.n(s),a=c(19),r=c(87),l=c(11),u=c(33),j=c.n(u);c(141),c(142);var h=function(){var e=Object(o.useState)(""),t=Object(a.a)(e,2),c=t[0],s=t[1],i=Object(o.useState)(!0),r=Object(a.a)(i,2),l=r[0],u=r[1];return Object(o.useEffect)((function(){j.a.get("https://mighty-sands-49960.herokuapp.com/token").then((function(e){s(e.data),u(!1)})).catch((function(e){return console.log(e)}))}),[]),Object(n.jsx)("div",{className:"login",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Welcome to Google Docs App"}),Object(n.jsx)("h4",{children:"with heroku boom"}),l?Object(n.jsx)("p",{children:"Loading..."}):Object(n.jsx)("a",{className:"btn",href:c,children:Object(n.jsxs)("div",{className:"google-btn",children:[Object(n.jsx)("div",{className:"google-icon-wrapper",children:Object(n.jsx)("img",{className:"google-icon",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"google-icon"})}),Object(n.jsx)("p",{className:"btn-text",children:Object(n.jsx)("b",{children:"Sign in with google"})})]})})]})})},d=c(181),b=c(182),f=c(111),m=c.n(f),O=c(112),g=c.n(O),p=c(109),x=c.n(p),v=c(113),S=c(90);c(145),c(146);var k=function(e){var t=e.title,c=e.id,o="https://docs.google.com/document/d/".concat(c,"/edit");return Object(n.jsx)("div",{className:"results",children:Object(n.jsx)("a",{href:o,children:Object(n.jsxs)("h5",{children:["Title: ",t]})})})};var N=function(){var e=Object(o.useState)([]),t=Object(a.a)(e,2),c=t[0],s=t[1],i=Object(o.useState)(""),r=Object(a.a)(i,2),u=r[0],h=r[1],f=Object(o.useState)(!1),O=Object(a.a)(f,2),p=O[0],N=O[1],y=Object(o.useState)(!1),w=Object(a.a)(y,2),_=w[0],E=w[1];Object(o.useEffect)((function(){j.a.get("https://mighty-sands-49960.herokuapp.com/profile").then((function(e){console.log(e.data.name),h(e.data.name)})).catch((function(e){return console.log(e)}))}),[]),Object(o.useEffect)((function(){j.a.get("https://mighty-sands-49960.herokuapp.com/files").then((function(e){console.log(e.data.files),s(e.data.files),N(!1)})).catch((function(e){return console.log(e)}))}),[]),Object(o.useCallback)((function(){s(c)}),[c]);var C=S.a().shape({fruit:S.b().min(1,"Too Short!").required("Required")}),G=c.map((function(e){return Object(n.jsx)(k,{title:e.name,id:e.id},e.id)}));return Object(n.jsxs)("div",{className:"form",children:[_?Object(n.jsx)(l.a,{to:"/"}):null,Object(n.jsxs)("h3",{children:["Hello, ",Object(n.jsx)("i",{children:u})]}),Object(n.jsx)(x.a,{onClick:function(){j()({method:"GET",url:"https://mighty-sands-49960.herokuapp.com/logout"}).then((function(e){console.log(e.data)})).catch((function(e){return console.log(e)})),E(!0)}}),Object(n.jsx)("hr",{}),Object(n.jsx)("h5",{children:"Tell us what is your favorite fruit:"}),Object(n.jsx)(v.a,{initialValues:{fruit:""},validationSchema:C,onSubmit:function(e,t){var c=t.setSubmitting;console.log("submiting ".concat(e.fruit));var n={method:"post",url:"https://mighty-sands-49960.herokuapp.com/copy?fruit=".concat(e.fruit),headers:{}};j()(n).then((function(e){console.log(e),N(!1),c(!1)})).catch((function(e){c(!1),N(!1),console.log(e)}))},children:function(e){var t=e.values,c=e.errors,o=e.touched,s=e.handleChange,i=e.handleBlur,a=e.handleSubmit,r=e.isSubmitting;return Object(n.jsxs)("form",{className:"form_body",onSubmit:function(){return a()},children:[Object(n.jsx)(d.a,{label:"Favorite Fruit",variant:"outlined",type:"text",name:"fruit",size:"small",onChange:s,onBlur:i,value:t.fruit}),Object(n.jsx)("div",{className:"form_btn",children:Object(n.jsx)(b.a,{type:"submit",disabled:!(r||o.fruit&void 0===c.fruit),variant:"contained",color:"primary",size:"small",startIcon:Object(n.jsx)(m.a,{}),children:"Save doc"})})]})}}),Object(n.jsx)("h3",{children:"Files"}),Object(n.jsx)("div",{className:"refresh_btn",children:Object(n.jsxs)(b.a,{onClick:function(){return window.location.reload()},children:["Refresh",Object(n.jsx)("span",{className:"refresh_icon",children:Object(n.jsx)(g.a,{})})]})}),Object(n.jsx)("div",{className:"results_table",children:p?Object(n.jsx)("div",{className:"spinner-border text-primary",role:"status"}):G})]})};var y=function(){var e=Object(o.useState)(!0),t=Object(a.a)(e,2),c=t[0],s=t[1];return Object(o.useEffect)((function(){j.a.get("https://mighty-sands-49960.herokuapp.com/auth").then((function(e){console.log(e),s(!0)})).catch((function(e){console.log(e),s(!1)}))}),[]),console.log(c),Object(n.jsx)(r.a,{basename:"/GoogleDriveApi",children:Object(n.jsx)("div",{className:"app-root",children:Object(n.jsx)(l.d,{children:Object(n.jsx)(l.b,{path:"/",children:c?Object(n.jsx)(N,{}):Object(n.jsx)(h,{})})})})})};i.a.render(Object(n.jsx)(y,{}),document.getElementById("root"))}},[[151,1,2]]]);
//# sourceMappingURL=main.e79fbf66.chunk.js.map
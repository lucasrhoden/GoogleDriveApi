(this["webpackJsonpgoogledocapi-frontend"]=this["webpackJsonpgoogledocapi-frontend"]||[]).push([[0],{143:function(e,t,n){},144:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){},154:function(e,t,n){"use strict";n.r(t);var c=n(4),o=n(0),a=n(9),s=n.n(a),i=n(19),r=n(88),l=n(11),u=n(33),j=n.n(u);n(143),n(144);var h=function(){var e=Object(o.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(o.useState)(!0),r=Object(i.a)(s,2),l=r[0],u=r[1];return Object(o.useEffect)((function(){j.a.get("https://mighty-sands-49960.herokuapp.com/token").then((function(e){a(e.data),u(!1)})).catch((function(e){return console.log(e)}))}),[]),Object(c.jsx)("div",{className:"login",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Welcome to Google Docs App"}),l?Object(c.jsx)("p",{children:"Loading..."}):Object(c.jsx)("a",{className:"btn",href:n,children:Object(c.jsxs)("div",{className:"google-btn",children:[Object(c.jsx)("div",{className:"google-icon-wrapper",children:Object(c.jsx)("img",{className:"google-icon",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"google-icon"})}),Object(c.jsx)("p",{className:"btn-text",children:Object(c.jsx)("b",{children:"Sign in with google"})})]})})]})})},d=n(67),b=n.n(d),f=n(89),m=n(184),O=n(185),p=n(113),g=n.n(p),x=n(114),v=n.n(x),S=n(111),k=n.n(S),y=n(115),N=n(92);n(148),n(149);var w=function(e){var t=e.title,n=e.id,o="https://docs.google.com/document/d/".concat(n,"/edit");return Object(c.jsx)("div",{className:"results",children:Object(c.jsx)("a",{href:o,children:Object(c.jsxs)("h5",{children:["Title: ",t]})})})};var _=function(){var e=Object(o.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(o.useState)(""),r=Object(i.a)(s,2),u=r[0],h=r[1],d=Object(o.useState)(!1),p=Object(i.a)(d,2),x=p[0],S=p[1],_=Object(o.useState)(!1),E=Object(i.a)(_,2),C=E[0],G=E[1];Object(o.useEffect)((function(){j.a.get("https://mighty-sands-49960.herokuapp.com/profile").then((function(e){console.log(e.data.name),h(e.data.name)})).catch((function(e){return console.log(e)}))}),[]),Object(o.useEffect)((function(){j.a.get("https://mighty-sands-49960.herokuapp.com/files").then((function(e){console.log(e.data.files),a(e.data.files),S(!1)})).catch((function(e){return console.log(e)}))}),[]),Object(o.useCallback)((function(){a(n)}),[n]);var T=function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j()({method:"POST",url:"https://mighty-sands-49960.herokuapp.com/copy?fruit=".concat(t)}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=N.a().shape({fruit:N.b().min(1,"Too Short!").required("Required")}),F=n.map((function(e){return Object(c.jsx)(w,{title:e.name,id:e.id},e.id)}));return Object(c.jsxs)("div",{className:"form",children:[C?Object(c.jsx)(l.a,{to:"/"}):null,Object(c.jsxs)("h3",{children:["Hello, ",Object(c.jsx)("i",{children:u})]}),Object(c.jsx)(k.a,{onClick:function(){j()({method:"GET",url:"https://mighty-sands-49960.herokuapp.com/logout"}).then((function(e){console.log(e.data)})).catch((function(e){return console.log(e)})),G(!0)}}),Object(c.jsx)("hr",{}),Object(c.jsx)("h5",{children:"Tell us what is your favorite fruit:"}),Object(c.jsx)(y.a,{initialValues:{fruit:""},validationSchema:B,onSubmit:function(){var e=Object(f.a)(b.a.mark((function e(t,n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.setSubmitting,console.log("submiting ".concat(t.fruit)),e.next=4,T(t.fruit);case 4:c(!1),S(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.values,n=e.errors,o=e.touched,a=e.handleChange,s=e.handleBlur,i=e.handleSubmit,r=e.isSubmitting;return Object(c.jsxs)("form",{className:"form_body",onSubmit:function(){return i()},children:[Object(c.jsx)(m.a,{label:"Favorite Fruit",variant:"outlined",type:"text",name:"fruit",size:"small",onChange:a,onBlur:s,value:t.fruit}),Object(c.jsx)("div",{className:"form_btn",children:Object(c.jsx)(O.a,{type:"submit",disabled:!(r||o.fruit&void 0===n.fruit),variant:"contained",color:"primary",size:"small",startIcon:Object(c.jsx)(g.a,{}),children:"Save doc"})})]})}}),Object(c.jsx)("h3",{children:"Files"}),Object(c.jsx)("div",{className:"refresh_btn",children:Object(c.jsxs)(O.a,{onClick:function(){return window.location.reload()},children:["Refresh",Object(c.jsx)("span",{className:"refresh_icon",children:Object(c.jsx)(v.a,{})})]})}),Object(c.jsx)("div",{className:"results_table",children:x?Object(c.jsx)("div",{className:"spinner-border text-primary",role:"status"}):F})]})};var E=function(){var e=Object(o.useState)(!0),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(o.useEffect)((function(){j.a.get("https://mighty-sands-49960.herokuapp.com/auth").then((function(e){console.log(e),a(!0)})).catch((function(e){console.log(e),a(!1)}))}),[]),console.log(n),Object(c.jsx)(r.a,{basename:"/GoogleDriveApi",children:Object(c.jsx)("div",{className:"app-root",children:Object(c.jsx)(l.d,{children:Object(c.jsx)(l.b,{path:"/",children:n?Object(c.jsx)(_,{}):Object(c.jsx)(h,{})})})})})};s.a.render(Object(c.jsx)(E,{}),document.getElementById("root"))}},[[154,1,2]]]);
//# sourceMappingURL=main.b789f05c.chunk.js.map
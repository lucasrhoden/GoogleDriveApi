{"version":3,"sources":["Login/Login.js","Results/Results.js","Form/Form.js","App.js","index.js"],"names":["Login","useState","href","sethref","isLoading","setIsLoading","useEffect","axios","get","then","res","data","catch","err","console","log","className","src","alt","Results","title","id","Form","files","setfiles","user","setuser","isLogout","setIsLogout","name","useCallback","filesArray","map","file","to","onClick","method","url","action","TextField","label","variant","type","size","Button","color","startIcon","window","location","reload","role","App","isAuth","setAuth","basename","process","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.61221114.chunk.js","sourcesContent":["import React, {useState, useEffect } from 'react';\r\nimport axios from \"axios\";\r\n\r\nimport \"./Login.css\";\r\n\r\nfunction Login() {\r\n\r\n    const [href, sethref] = useState(\"\");\r\n    const [isLoading, setIsLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        axios.get(\r\n          'https://mighty-sands-49960.herokuapp.com/token',\r\n        ).then(res => {\r\n            sethref(res.data)\r\n            setIsLoading(false)\r\n        }).catch(err => console.log(err));\r\n    },[]);\r\n    \r\n    return (\r\n        <div className=\"login\">\r\n            <div>\r\n                <h3>Welcome to Google Docs App v2</h3>\r\n                {isLoading ? <p>Loading...</p> : \r\n                <a className=\"btn\" href={href}>\r\n                <div className=\"google-btn\">\r\n                    <div className=\"google-icon-wrapper\">\r\n                        <img \r\n                            className=\"google-icon\" \r\n                            src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\"\r\n                            alt=\"google-icon\"/>\r\n                    </div>\r\n                    <p className=\"btn-text\"><b>Sign in with google</b></p>\r\n                </div>\r\n                </a>\r\n                }\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react';\r\n\r\nimport \"./Results.css\"\r\n\r\nfunction Results({title, id}) {\r\n\r\n    const href = `https://docs.google.com/document/d/${id}/edit`\r\n\r\n    return (\r\n        <div className=\"results\">\r\n            <a href={href}>\r\n                <h5>Title: {title}</h5>\r\n            </a>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Results\r\n","import React, {useState, useEffect, useCallback} from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { TextField, Button } from '@material-ui/core';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport SyncIcon from '@material-ui/icons/Sync';\r\nimport CancelPresentationIcon from '@material-ui/icons/CancelPresentation';\r\n// import { Formik } from 'formik';\r\n// import * as Yup from 'yup';\r\nimport axios from \"axios\";\r\n\r\nimport \"./Form.css\"\r\nimport Results from \"../Results/Results\"\r\n\r\nfunction Form() {\r\n\r\n    const [files, setfiles] = useState([]);\r\n    const [user, setuser] = useState(\"\");\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isLogout, setIsLogout] = useState(false)\r\n\r\n    useEffect(() => {\r\n        axios.get(\r\n            'https://mighty-sands-49960.herokuapp.com/profile',\r\n          ).then(res => {\r\n              console.log(res.data.name)\r\n              setuser(res.data.name)\r\n          }).catch(err => console.log(err));\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        axios.get(\r\n            'https://mighty-sands-49960.herokuapp.com/files',\r\n          ).then(res => {\r\n              console.log(res.data.files)\r\n              setfiles(res.data.files)\r\n              setIsLoading(false)\r\n          }).catch(err => console.log(err));\r\n    }, [])\r\n\r\n    useCallback(() => {\r\n        setfiles(files)\r\n    }, [files])\r\n\r\n    const handleLogout = () => {\r\n        axios({\r\n            method:\"GET\",\r\n            url: \"https://mighty-sands-49960.herokuapp.com/logout\"\r\n        }).then(res => {\r\n            console.log(res.data)\r\n        }).catch(err => console.log(err))\r\n        setIsLogout(true)\r\n    }\r\n\r\n    // const handleSubmit = () => {\r\n\r\n    // }\r\n\r\n    // const handleSubmit = async (values, {formikProps, setSubmitting, setFieldError, resetForm}) => {\r\n    //     const fruit = values.fruit\r\n    //     try {\r\n    //         console.log(`trying to submit ${fruit}`)\r\n    //         var data = JSON.stringify({\"fruit\":`${fruit}`});\r\n    //         const response = await axios({\r\n    //             method: \"POST\",\r\n    //             url: \"https://mighty-sands-49960.herokuapp.com/copy\",\r\n    //             headers: { \r\n    //                 'Content-Type': 'application/json'\r\n    //               },\r\n    //               data : data\r\n    //         })\r\n    //         .then(function (res) {\r\n    //             setSubmitting(false); \r\n    //             console.log(res)\r\n    //             return (res);\r\n    //         })\r\n    //         .catch(function (err) {\r\n    //             setSubmitting(false); \r\n    //             console.log(err)\r\n    //         });\r\n    //         console.log(response)                \r\n                            \r\n    //     }\r\n    //     catch (error) {           \r\n    //         console.log(error);\r\n    //         setSubmitting(false);\r\n    //         resetForm();                \r\n    //         // setFieldError(\"email\", error.response.data.message)                        \r\n    //     }         \r\n    // };\r\n\r\n    // const fruitSchema = Yup.object().shape({\r\n    //     fruit: Yup.string()\r\n    //       .min(1, 'Too Short!')\r\n    //       .required('Required')\r\n    // })\r\n\r\n    const filesArray = files.map(file => (\r\n        <Results key={file.id} title={file.name} id={file.id} />\r\n    ))\r\n\r\n//     const formik = <Formik\r\n//     initialValues={{ fruit: '' }}\r\n//     validationSchema={fruitSchema}\r\n//     onSubmit={() => handleSubmit()}\r\n// >\r\n//     {({\r\n//         values,\r\n//         errors,\r\n//         touched,\r\n//         handleChange,\r\n//         handleBlur,\r\n//         handleSubmit,\r\n//         isSubmitting,\r\n//         /* and other goodies */\r\n//     }) => (\r\n//         <form className=\"form_body\" onSubmit={handleSubmit}>\r\n//             <TextField\r\n//                 label=\"Favorite Fruit\"\r\n//                 variant=\"outlined\"\r\n//                 type=\"text\"\r\n//                 name=\"fruit\"\r\n//                 size=\"small\"\r\n//                 onChange={handleChange}\r\n//                 onBlur={handleBlur}\r\n//                 value={values.fruit}\r\n//             />\r\n//             <div className=\"form_btn\">\r\n//                 <Button\r\n//                     type=\"submit\" \r\n//                     disabled={isSubmitting || touched.fruit & errors.fruit === undefined ? false : true }\r\n//                     variant=\"contained\"\r\n//                     color=\"primary\"\r\n//                     size=\"small\"\r\n//                     startIcon={<SaveIcon />}\r\n//                 >\r\n//                     Save doc\r\n//                 </Button>\r\n//             </div>\r\n//         </form>\r\n//     )}\r\n// </Formik>\r\n\r\n    return (\r\n        <div className=\"form\">\r\n            {isLogout ? <Redirect to=\"/\" /> : null}\r\n            <h3>Hello v2, <i>{user}</i></h3>\r\n            <CancelPresentationIcon onClick={handleLogout} />\r\n            <hr />\r\n            <h5>Tell us what is your favorite fruit:</h5>\r\n            <form className=\"form_body\" action=\"https://mighty-sands-49960.herokuapp.com/copy\" method=\"POST\">\r\n            <TextField\r\n                label=\"Favorite Fruit\"\r\n                variant=\"outlined\"\r\n                type=\"text\"\r\n                name=\"fruit\"\r\n                size=\"small\"\r\n            />\r\n            <div className=\"form_btn\">\r\n                <Button\r\n                    type=\"submit\" \r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    size=\"small\"\r\n                    startIcon={<SaveIcon />}\r\n                >\r\n                    Save doc\r\n                </Button>\r\n            </div>\r\n            </form>\r\n            <h3>Files</h3>\r\n            <div className=\"refresh_btn\">\r\n                <Button onClick={() => window.location.reload()}>Refresh<span className=\"refresh_icon\"><SyncIcon /></span></Button>\r\n            </div>\r\n            <div className=\"results_table\">\r\n                {isLoading ? \r\n                <div className=\"spinner-border text-primary\" role=\"status\" /> :\r\n                filesArray\r\n            }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Form\r\n","import React, { useEffect, useState } from \"react\";\nimport { HashRouter as Router , Switch, Route } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport './App.css';\nimport Login from \"./Login/Login\"\nimport Form from \"./Form/Form\"\n\nfunction App() {\n\n  const[isAuth, setAuth] = useState(true)\n\n  useEffect(() => {\n    axios.get(\"https://mighty-sands-49960.herokuapp.com/auth\")\n    .then(res => {\n      console.log(res)\n      setAuth(true)\n    })\n    .catch(err => { \n      console.log(err)\n      setAuth(false)})\n  },[])\n\n  console.log(isAuth)\n\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <div className=\"app-root\">\n        <Switch>\n          <Route path=\"/\">\n            {isAuth ? <Form /> : <Login />}\n          </Route>\n          {/* <Route path=\"/\" exact component={Login} />\n          <Route path=\"/form\" component={Form} /> */}\n        </Switch>\n      </div>    \n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}
{"version":3,"sources":["Login/Login.js","Results/Results.js","Form/Form.js","App.js","index.js"],"names":["Login","useState","href","sethref","useEffect","axios","get","then","res","data","catch","err","console","log","className","src","alt","Results","title","id","Form","files","setfiles","user","setuser","isLoading","setIsLoading","isLogout","setIsLogout","name","useCallback","fruitSchema","Yup","shape","fruit","min","required","filesArray","map","file","to","onClick","method","url","initialValues","validationSchema","onSubmit","values","setSubmitting","config","headers","response","JSON","stringify","error","errors","touched","handleChange","handleBlur","handleSubmit","isSubmitting","TextField","label","variant","type","size","onChange","onBlur","value","Button","disabled","undefined","color","startIcon","window","location","reload","role","App","isAuth","setAuth","path","exact","component","ReactDOM","render","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.46450678.chunk.js","sourcesContent":["import React, {useState, useEffect } from 'react';\r\nimport axios from \"axios\";\r\n\r\nimport \"./Login.css\";\r\n\r\nfunction Login() {\r\n\r\n    const [href, sethref] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        axios.get(\r\n          'http://localhost:9000/token',\r\n        ).then(res => {\r\n            sethref(res.data)\r\n        }).catch(err => console.log(err));\r\n    },[]);\r\n    \r\n    return (\r\n        <div className=\"login\">\r\n            <div>\r\n                <h3>Welcome to Google Docs App</h3>\r\n                <a className=\"btn\" href={href}>\r\n                    <div className=\"google-btn\">\r\n                        <div className=\"google-icon-wrapper\">\r\n                            <img \r\n                                className=\"google-icon\" \r\n                                src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\"\r\n                                alt=\"google-icon\"/>\r\n                        </div>\r\n                        <p className=\"btn-text\"><b>Sign in with google</b></p>\r\n                    </div>\r\n                </a>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react';\r\n\r\nimport \"./Results.css\"\r\n\r\nfunction Results({title, id}) {\r\n\r\n    const href = `https://docs.google.com/document/d/${id}/edit`\r\n\r\n    return (\r\n        <div className=\"results\">\r\n            <a href={href}>\r\n                <h5>Title: {title}</h5>\r\n            </a>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Results\r\n","import React, {useState, useEffect, useCallback} from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { TextField, Button } from '@material-ui/core';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport SyncIcon from '@material-ui/icons/Sync';\r\nimport CancelPresentationIcon from '@material-ui/icons/CancelPresentation';\r\nimport { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport axios from \"axios\";\r\n\r\nimport \"./Form.css\"\r\nimport Results from \"../Results/Results\"\r\n\r\nfunction Form() {\r\n\r\n    const [files, setfiles] = useState([]);\r\n    const [user, setuser] = useState(\"\");\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isLogout, setIsLogout] = useState(false)\r\n\r\n    useEffect(() => {\r\n        axios.get(\r\n            'http://localhost:9000/profile',\r\n          ).then(res => {\r\n              console.log(res.data.name)\r\n              setuser(res.data.name)\r\n          }).catch(err => console.log(err));\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        axios.get(\r\n            'http://localhost:9000/files',\r\n          ).then(res => {\r\n              console.log(res.data.files)\r\n              setfiles(res.data.files)\r\n              setIsLoading(false)\r\n          }).catch(err => console.log(err));\r\n    }, [])\r\n\r\n    useCallback(() => {\r\n        setfiles(files)\r\n    }, [files])\r\n\r\n    const handleLogout = () => {\r\n        axios({\r\n            method:\"GET\",\r\n            url: \"http://localhost:9000/logout\"\r\n        }).then(res => {\r\n            console.log(res.data)\r\n        }).catch(err => console.log(err))\r\n        setIsLogout(true)\r\n    }\r\n\r\n    const fruitSchema = Yup.object().shape({\r\n        fruit: Yup.string()\r\n          .min(1, 'Too Short!')\r\n          .required('Required')\r\n    })\r\n\r\n    const filesArray = files.map(file => (\r\n        <Results key={file.id} title={file.name} id={file.id} />\r\n    ))\r\n\r\n    return (\r\n        <div className=\"form\">\r\n            {isLogout ? <Redirect to=\"/\" /> : null}\r\n            <h3>Hello, <i>{user}</i></h3>\r\n            <CancelPresentationIcon onClick={handleLogout} />\r\n            <hr />\r\n            <h5>Tell us what is your favorite fruit:</h5>\r\n            <Formik\r\n                initialValues={{ fruit: '' }}\r\n                validationSchema={fruitSchema}\r\n                onSubmit={(values, { setSubmitting }) => {\r\n                    var config = {\r\n                        method: 'post',\r\n                        url: `http://localhost:9000/copy?fruit=${values.fruit}`,\r\n                        headers: { }\r\n                      };\r\n                      \r\n                    axios(config)\r\n                      .then(function (response) {\r\n                        console.log(JSON.stringify(response.data));\r\n                        setSubmitting(false);\r\n                        setIsLoading(false);\r\n                      })\r\n                      .catch(function (error) {\r\n                        console.log(error);\r\n                        setSubmitting(false);\r\n                        setIsLoading(false);\r\n                      });\r\n                    \r\n                }}\r\n            >\r\n                {({\r\n                    values,\r\n                    errors,\r\n                    touched,\r\n                    handleChange,\r\n                    handleBlur,\r\n                    handleSubmit,\r\n                    isSubmitting,\r\n                    /* and other goodies */\r\n                }) => (\r\n                    <form className=\"form_body\" onSubmit={() => handleSubmit()}>\r\n                        {console.log(errors.fruit)}\r\n                        {console.log(touched.fruit)}\r\n                        <TextField\r\n                            label=\"Favorite Fruit\"\r\n                            variant=\"outlined\"\r\n                            type=\"text\"\r\n                            name=\"fruit\"\r\n                            size=\"small\"\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}\r\n                            value={values.fruit}\r\n                        />\r\n                        <div className=\"form_btn\">\r\n                            <Button\r\n                                type=\"submit\" \r\n                                disabled={isSubmitting || touched.fruit & errors.fruit === undefined ? false : true }\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                size=\"small\"\r\n                                startIcon={<SaveIcon />}\r\n                            >\r\n                                Save doc\r\n                            </Button>\r\n                        </div>\r\n                    </form>\r\n                )}\r\n            </Formik>\r\n            <h3>Files</h3>\r\n            <div className=\"refresh_btn\">\r\n                <Button onClick={() => window.location.reload()}>Refresh<span className=\"refresh_icon\"><SyncIcon /></span></Button>\r\n            </div>\r\n            <div className=\"results_table\">\r\n                {isLoading ? \r\n                <div className=\"spinner-border text-primary\" role=\"status\" /> :\r\n                filesArray\r\n            }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Form\r\n","import React, { useEffect, useState } from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport './App.css';\nimport Login from \"./Login/Login\"\nimport Form from \"./Form/Form\"\n\nfunction App() {\n\n  const[isAuth, setAuth] = useState(true)\n\n  useEffect(() => {\n    axios.get(\"http://localhost:9000/auth\")\n    .then(res => {\n      console.log(res)\n      setAuth(true)\n    })\n    .catch(err => { \n      console.log(err)\n      setAuth(false)})\n  },[])\n\n  console.log(isAuth)\n\n  return (\n    <div className=\"app-root\">\n      <Switch>\n        <Route path=\"/\" exact component={Login} />\n        {isAuth ? <Route path=\"/form\" component={Form} /> : <Redirect to=\"/\" /> }\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\n    <App />\n  </BrowserRouter>\n  ,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}